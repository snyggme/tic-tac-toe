(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){t.exports=n(20)},15:function(t,e,n){},17:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),a=n(3),o=n.n(a),r=(n(15),n(7)),l=n(4),c=n(5),h=n(8),m=n(6),u=n(9),d=n(1),g=function(t){var e={borderBottom:"2px solid lightblue",boxShadow:"0 4px 5px rgba(0,0,0,.16)"},n={borderBottom:"none",boxShadow:"0 1px 1px rgba(0,0,0,.16)"};return s.a.createElement("header",null,s.a.createElement("div",{className:"header-x-box",onClick:t.active?t.pickCrossSign:null,style:t.crossActive?e:n},s.a.createElement("div",{id:"cross-small"},s.a.createElement("div",{className:"cross-small-line small-line-1"}),s.a.createElement("div",{className:"cross-small-line small-line-2"}))),s.a.createElement("div",{className:"header-o-box",onClick:t.active?t.pickZeroSign:null,style:t.zeroActive?e:n},s.a.createElement("div",{id:"zero-small"},s.a.createElement("div",null))),s.a.createElement("div",{className:"header-game-text"},t.text))},p=function(t){var e="none"===t.content?"":"cross"===t.content?s.a.createElement("div",{id:"cross"},s.a.createElement("div",{className:"cross-line line-1"}),s.a.createElement("div",{className:"cross-line line-2"})):s.a.createElement("div",{id:"zero"},s.a.createElement("div",null));return s.a.createElement("div",{className:"item ".concat(t.name),onClick:t.onClick},e)},f=(n(17),function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(h.a)(this,Object(m.a)(e).call(this,t))).state={playerSign:"",turn:"player",isGameActive:!1,isBtnsActive:!0,headerText:"Start game or choose player",gameResult:"",highlightStyle:{},itemsContent:["none","none","none","none","none","none","none","none","none"]},n.winPositions=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],n.corners=[1,3,7,9],n.sides=[2,4,6,8],n.handleItemClick=n.handleItemClick.bind(Object(d.a)(Object(d.a)(n))),n.pickCrossSign=n.pickCrossSign.bind(Object(d.a)(Object(d.a)(n))),n.pickZeroSign=n.pickZeroSign.bind(Object(d.a)(Object(d.a)(n))),n.resetGame=n.resetGame.bind(Object(d.a)(Object(d.a)(n))),n.handleAnimationEnd=n.handleAnimationEnd.bind(Object(d.a)(Object(d.a)(n))),n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"handleAnimationEnd",value:function(){var t=document.getElementById("game-results");t.style.animation="appear 2.2s forwards";var e="You won!"===this.state.gameResult?this.state.playerSign:"You lost"===this.state.gameResult?"cross"===this.state.playerSign?"zero":"cross":"draw";if("cross"===e){var n=document.getElementById("cross-small");n.style.transform="scale(3.5)",n.style.top="230px",n.style.left="36%",t.style.color="rgb(242, 235, 211)"}else if("zero"===e){var i=document.getElementById("zero-small");i.style.transform="scale(3.3)",i.style.top="230px",i.style.left="-80%",t.style.color="rgb(84, 84, 84)"}else{var s=document.getElementById("cross-small"),a=document.getElementById("zero-small");s.style.transform="scale(3.5)",s.style.top="235px",s.style.left="5%",a.style.transform="scale(3.3)",a.style.top="230px",a.style.left="-20%",t.style.color="rgb(84, 84, 84)"}}},{key:"componentDidUpdate",value:function(t,e){var n=this;if(e.turn!==this.state.turn){var i=this.isWin();if(i.end)return void this.highlightWin(i.items);"computer"===this.state.turn&&setTimeout(function(){n.startComputer();var t=n.isWin();t.end&&n.highlightWin(t.items)},500),setTimeout(function(){n.setState({turn:"player",headerText:"Your turn"})},600)}}},{key:"handleItemClick",value:function(t){if("computer"!==this.state.turn||""===this.state.playerSign){var e=""===this.state.playerSign?"cross":this.state.playerSign.slice(),n=t.target.className[t.target.className.length-1]-1;if("none"===this.state.itemsContent[n]){var i=this.state.itemsContent.map(function(t,i){return"none"===t&&i===n?e:t});this.setState(function(t){return{playerSign:e,itemsContent:i,turn:"computer",headerText:"Computer turn"}})}}}},{key:"pickCrossSign",value:function(t){this.setState({playerSign:"cross",turn:"player",headerText:"Your turn"})}},{key:"pickZeroSign",value:function(t){this.setState({playerSign:"zero",turn:"computer",headerText:"Computer turn"})}},{key:"startComputer",value:function(){var t="cross"===this.state.playerSign?"zero":"cross";this.doComputerTurn(t),this.setState({isBtnsActive:!1})}},{key:"calculateBoardItems",value:function(t,e){return e.map(function(e,n){return e===t?n+1:e}).filter(function(t){return"number"===typeof t})}},{key:"doComputerTurn",value:function(t){var e=this,n="cross"===t?"zero":"cross",i=function(i,s){return e.state.itemsContent.map(function(e,a){return a===i[0]-1?"my"===s?t:n:e})},s=this.calculateBoardItems(t,this.state.itemsContent),a=this.calculateBoardItems("none",this.state.itemsContent),o=this.calculateBoardItems(n,this.state.itemsContent),r=function(t,n){var i=[];return e.winPositions.filter(function(e){var n=[];return t.map(function(t){e.includes(t)&&n.push(!0)}),n.length>1}).map(function(t){t.map(function(t){n.includes(t)&&i.push(t)})}),i},l=function(s,a,o){return o.filter(function(o){var l=i([o],a),c=e.calculateBoardItems("none",l),h="my"===a?e.calculateBoardItems(t,l):e.calculateBoardItems(n,l);return r(h,c).length>s})},c=r(s,a);if(0===c.length){var h=r(o,a);if(0===h.length)if(this.state.itemsContent.every(function(t){return"none"===t})&&"cross"===t){var m=this.state.itemsContent.map(function(e,n){return 4===n?t:e});this.setState({itemsContent:m})}else{if(1===o.length){var u=this.corners[Math.floor(Math.random()*this.corners.length)];if("zero"===t)return void("none"===this.state.itemsContent[4]?this.setState({itemsContent:i([5],"my")}):this.setState({itemsContent:i([u],"my")}));if("cross"===t){var d=r(o.concat(s),a);return void(this.corners.includes(d[0])?this.setState({itemsContent:i(d,"my")}):this.setState({itemsContent:i([u],"my")}))}}if(2===o.length){if("zero"===t){var g=this.sides[Math.floor(Math.random()*this.sides.length)];if(!this.corners.includes(o[0])||!this.corners.includes(o[1])){var p=l(1,"opponent",a);if(p.length>1&&(p=p.filter(function(t){var n=e.calculateBoardItems("none",i([t],"my"));return r(s.concat(t),n).length>0})),g=p[Math.floor(Math.random()*p.length)],0===p.length){var f=l(0,"my",a);g=f[Math.floor(Math.random()*f.length)]}}return void this.setState({itemsContent:i([g],"my")})}if("cross"===t){var y=l(1,"my",a),v=y[Math.floor(Math.random()*y.length)];return void this.setState({itemsContent:i([v],"my")})}}if(a.length>1){var C=l(0,"my",a),S=C.length>0?C[Math.floor(Math.random()*C.length)]:a[Math.floor(Math.random()*a.length)];this.setState({itemsContent:i([S],"my")})}else this.setState({itemsContent:i(a,"my")})}else this.setState({itemsContent:i(h,"my")})}else this.setState({itemsContent:i(c,"my")})}},{key:"isWin",value:function(){var t=this,e=this.calculateBoardItems("cross",this.state.itemsContent),n=this.calculateBoardItems("zero",this.state.itemsContent),i=this.calculateBoardItems("none",this.state.itemsContent),s=function(e){return t.winPositions.filter(function(t){var n=[];return e.map(function(e){t.includes(e)&&n.push(!0)}),n.length>2})},a=s(e);if(a.length>0)return this.setState({gameResult:"cross"===this.state.playerSign?"You won!":"You lost"}),{end:!0,items:a[0]};var o=s(n);return o.length>0?(this.setState({gameResult:"zero"===this.state.playerSign?"You won!":"You lost"}),{end:!0,items:o[0]}):0===i.length?(this.setState({gameResult:"It's a draw!"}),{end:!0,items:[]}):(this.setState({gameResult:""}),{end:!1,items:[]})}},{key:"highlightWin",value:function(t){if(0!==t.length){var e=function(t,e){return Object(r.a)(t).filter(function(t,n){return t===e[n]}).length===t.length},n="cross"===this.state.itemsContent[t[0]-1]?"#545454":"#f2ebd3";e(t,[1,2,3])?this.setState({highlightStyle:{width:"250px",height:"5px",top:"42px",left:"15px",backgroundColor:n,animation:"win-left-right 0.7s"}}):e(t,[4,5,6])?this.setState({highlightStyle:{width:"250px",height:"5px",top:"135px",left:"15px",backgroundColor:n,animation:"win-left-right 0.7s"}}):e(t,[7,8,9])?this.setState({highlightStyle:{width:"250px",height:"5px",top:"229px",left:"15px",backgroundColor:n,animation:"win-left-right 0.7s"}}):e(t,[1,4,7])?this.setState({highlightStyle:{width:"5px",height:"250px",top:"14px",left:"42px",backgroundColor:n,animation:"win-top-bottom 0.7s"}}):e(t,[2,5,8])?this.setState({highlightStyle:{width:"5px",height:"250px",top:"14px",left:"135px",backgroundColor:n,animation:"win-top-bottom 0.7s"}}):e(t,[3,6,9])?this.setState({highlightStyle:{width:"5px",height:"250px",top:"14px",left:"230px",backgroundColor:n,animation:"win-top-bottom 0.7s"}}):e(t,[1,5,9])?this.setState({highlightStyle:{width:"300px",height:"7px",top:"146px",backgroundColor:n,animation:"win-diag-159 0.7s forwards"}}):e(t,[3,5,7])&&this.setState({highlightStyle:{width:"300px",height:"7px",top:"123px",backgroundColor:n,animation:"win-diag-357 0.7s forwards"}})}else this.setState({highlightStyle:{animation:"win-left-right 0.7s"}})}},{key:"resetGame",value:function(){var t=document.getElementById("cross-small");t.style.transform="scale(1)",t.style.top="0",t.style.left="0";var e=document.getElementById("zero-small");e.style.transform="scale(1)",e.style.top="0",e.style.left="0",this.setState({playerSign:"",isGameActive:!1,isBtnsActive:!0,headerText:"Start game or choose player",gameResult:"",turn:"player",highlightStyle:{},itemsContent:["none","none","none","none","none","none","none","none","none"]}),document.getElementById("game-results").style.animation="initial"}},{key:"render",value:function(){var t=!1,e=!1;return"cross"===this.state.playerSign?(t="player"===this.state.turn,e="computer"===this.state.turn):"zero"===this.state.playerSign&&(t="computer"===this.state.turn,e="player"===this.state.turn),s.a.createElement("div",{className:"container"},s.a.createElement(g,{active:this.state.isBtnsActive,crossActive:t,zeroActive:e,pickZeroSign:this.pickZeroSign,pickCrossSign:this.pickCrossSign,text:this.state.headerText}),s.a.createElement("div",null,""===this.state.gameResult?"":s.a.createElement("div",{id:"game-results"},"It's a draw!"===this.state.gameResult?"DRAW!":"WON!"),s.a.createElement("div",{id:"game-board",style:""===this.state.gameResult?{animation:"initial"}:{animation:"blur 2s forwards"}},""===this.state.gameResult?"":s.a.createElement("div",{id:"highlight",onAnimationEnd:this.handleAnimationEnd,style:this.state.highlightStyle}),s.a.createElement(p,{name:"item-1",content:this.state.itemsContent[0],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-2",content:this.state.itemsContent[1],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-3",content:this.state.itemsContent[2],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-4",content:this.state.itemsContent[3],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-5",content:this.state.itemsContent[4],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-6",content:this.state.itemsContent[5],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-7",content:this.state.itemsContent[6],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-8",content:this.state.itemsContent[7],onClick:this.handleItemClick}),s.a.createElement(p,{name:"item-9",content:this.state.itemsContent[8],onClick:this.handleItemClick}))),s.a.createElement("div",{className:"reset-game",onClick:this.resetGame},"RESET GAME"))}}]),e}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.7a9c9697.chunk.js.map